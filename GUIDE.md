# Step By Step Guide

This guide covers creating a simple iOS application using React Native.

## Simulator Overview

After creating MyProject using `react-native init MyProject`, change to your project directory and run the project using `react-native run-ios`.

You will get a simulator window from Xcode and a terminal window with the Node server. After the application has been loaded, you will get the following screen:

![Simulator Window](screenshots/simulator_window.png)

Developing for the native environment using a language like Swift will require you compile your project every time you make changes to it. With React Native, you can just **refresh** the app and it will be live almost instantaneously. To do that, you can press `CMD + R`. It feels as though you are accessing a web page using a browser.

Other interesting features in the simulator are also available: press `CMD + D` to see them.

You can enable `Live Reload` if you want the app to automatically refresh itself everytime you make changes to your source file and save it.

To inspect the styles applied to your application, you can use `Show Inspector` and click the elements on the app screen to see their properties.

Debugging the application is available through a web browser like Chrome if you enable it: `Debug JS Debugging`. This will open up a browser window which you will be able to Inspect and see the Console output coming from your app. Alternatively, you can use the Xcode Simulator's built-in console under `Debug -> Open System Log...` in the menu for your application window.

## React Component File Overview

Open `index.ios.js` with a text editor such as Atom.

The overall structure of a component file is as follows:

* Import component modules
* Define the component class
* Define the styles using StyleSheet
* AppRegistry to set up entry point for the application **or** a `module.exports` statement if it is another component you built that is not the entry point of your app.

The first part of your component file will import all the modules necessary for React Native. The first import is typically the one to import `react` and the second import statement will import the built-in components from `react-native`. You will be changing the latter often as you implement new features and will be required to use new components in the application.

The second part of the component file is the component class itself: the name of the class defines the name of the component. Note that all component classes must inherit from the **Component** class. JavaScript classes were introduced to ECMAScript 6, so you should get used to the new syntax. Many elements from React Native will be using the new syntax over the old one before ES6.

Every component class must include the render() function, which will define how your component view will be rendered. All you have to do is define render() and return something that will be display to the screen:

```
class MyCustomComponent extends Component {
  render() {
    return (
      // SOMETHING GOES HERE!!
    );
  }
}
```

Styles for the component can be defined toward the end of the file. You typically use:

```
const styles = StyleSheet.create({
  // Key-value pairs for styling goes here
});
```

The **const** keyword is also something new to ES6. Do not worry too much about it -- you could also have used **var**.

Lastly, at the end of the file you have the a statement using the AppRegistry to define an entry point for your application. For other components that are not entry point, you would export the module.

## Changing Styles

Let us go ahead and start building our application. The default app generated by the `react-native` command gives us a basic app layout with an outer container. You can define containers to hold other elements using a `View`. This is like a `div` in HTML. To place text on the screen, you have to use the `Text` component. What you place as the return value of the render() function looks very similar to HTML tags: you have to make sure you close them every time with a forward slash, like so:

```
<View>
  <Text>Hello World!</Text>
</View>
```

The above construct has no style. To add style to elements, just use the style attribute:

```
<View style={styles.container}>
  <Text style={styles.welcome}>Hello World!</Text>
</View>
```

What you are doing is you are accessing the variable styles that holds the stylesheet. There are keys to that big object which you can use to define a specific style.


### Styling the container

Let us go ahead and change the style for the container: make its background color `antiquewhite`:

```
const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
    backgroundColor: 'antiquewhite',
  },
  (...)
});
```

Save the file and take a look at your application. Refresh it with `CMD + R` if you do not have Live Reload enabled. The background color should have changed to antiquewhite. You can try different colors too, either using a color name, hex value, or rgb value.


### Styling the welcome text

Next, let us modify the welcome text. Make it have a color of `#191970` and with boldface:

```
welcome: {
  fontSize: 20,
  textAlign: 'center',
  margin: 10,
  color: '#191970',
  fontWeight: 'bold',
},
```

Again, refresh your app and see the results. Try playing around with different parameters.

One thing to note is that the preferred style model is using the flexbox model instead of the box model. You can read more about it [here](https://css-tricks.com/snippets/css/a-guide-to-flexbox/).

### Adding an image

Next, let us learn how to add images to the screen. Remove all the Text elements after the welcome message and add an `Image` tag, like so:

```
<Image source={require('./images/dbc.jpg')} />
```

This will add an image that is located under the current directory, inside the images folder. I just saved an image from the Internet and called it `dbc.jpg`. Make sure to create your own `images/` folder under the project directory and place an image inside. Also, note the forward slash `/` before the Image tag's closing bracket.

If you refreshed you app, you might have gotten an error message saying Image was not found: this is because you have to require the Image component before you can use it. Add Image to the list of components at the top of the file:

```
import {
  AppRegistry,
  StyleSheet,
  Text,
  View,
  Image,
} from 'react-native';
```

#### Resizing the image

The image you included in the app might have been too big for the screen, so let us add some style to fix the image dimensions. Add a style attribute to the Image component:

```
<Image
  source={require('./images/dbc.jpg')}
  style={styles.image}
/>
```

Then, define the style in the stylesheet at the end of the file:

```
const styles = StyleSheet.create({
  (...)
  image: {
    width: 196,
    height: 196,
  },
});
```

### Adding a TextInput component

Text and image are nice, but we need a way to get input from the user. You can do so using a TextInput component. Add it under the Image component you just created:

```
<TextInput
  placeholder="Enter your name"
  style={styles.inputText}
/>
```

Before you refresh your app, make sure to define the style for the TextInput component you just added. Inside styles, at the bottom of the file, add:

```
const styles = StyleSheet.create({
  (...)
  inputText: {
    borderWidth: 1,
    borderRadius: 10,
    height: 40,
    backgroundColor: 'gray',
    padding: 10,
    color: white,
  },
});
```

Make sure you have a comma after a brace at the end of each style key-value definition. It is safe to always add a comma instead of leaving it out even if it is the last key-value pair in the JavaScript object.

Also, do not forget to add the component TextInput to the import list at the beginning of the file. Otherwise, you will get an error saying the component was not found.

#### Making the TextInput work

The TextInput component is nice, but it does not quite work yet. You have to add an event listener that will set its value in the component state variable everytime you type anything. To do that, add the onChangeText attribute to the TextInput component:

```
<TextInput
  placeholder="Enter your name"
  style={styles.inputText}
  onChangeText={(text) => this.setState({ name: text })}
/>
```

Whenever you type something in the input box, a function is called to set the state of the component. In this case, we have a function whose argument `text` is used as the variable that holds whatever you typed. In the function definition, you call the setState function to set the state variable with a key-value pair `name: text`. You will then be able to use the value in the InputText if you say `this.state.name`.

Note that the arrow function `() => { ... }` is also something new in ES6. You can think of it as a simplified version of `function() { ... }`. You need only drop the function keyword and add a rocket symbol in between the argument list in parenthesis and the function definition under braces.

#### Binding the TextInput value

We now can get input from the user. How about we display his name in the welcome message as he is typing it? To do so, we will need to use the **state** of the component.

Just before the render() function definition inside the component class, define the constructor() function as such:

```
class MyProject extends Component {
  constructor() {
    super();

    this.state = {
      name: "",
    };
  }

  (...)
}
```

What you are doing is initializing the state of the component. You typically initialize it in the constructor function, right after calling super() to invoke its original definition from the Component parent class. You typically set all the "form" or input values you are going to need here. In this case, we only have name, but we could have many more, such as: description, favoriteMovie, etc.

Now, add a value attribute to the TextInput component and associate it with the `name` property in the state variable:

```
<TextInput
  placeholder="Enter your name"
  style={styles.inputText}
  onChangeText={(text) => this.setState({ name: text })}
  value={this.state.name}
/>
```

Then, after the welcome message is over, just before the exclamation point, add a Text component with the name property that is stored in the state:

```
<Text style={styles.welcome}>
  Welcome to React Native <Text>{this.state.name}</Text>!
</Text>
```

Now, refresh your application and try typing something in the TextInput component. See how the welcome text changes and adds the name as you type it? Very cool!

That is it for this tutorial. Checkout the React Native documentation for more [components](https://facebook.github.io/react-native/) to try out. Have fun!
